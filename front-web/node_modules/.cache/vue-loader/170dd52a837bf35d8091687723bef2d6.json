{"remainingRequest":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\huangyuanyuan-Web2-Web2-master\\front-web\\src\\App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\src\\App.vue","mtime":1589260594000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_css-loader@3.5.3@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaGVhZGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1Owp9CgojYXBwIHsKICBmb250LWZhbWlseTogQXZlbmlyLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwogIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7CiAgY29sb3I6ICMyYzNlNTA7Cn0KCi5lbC1yb3cgewogIHdpZHRoOiAxMDAlOwp9CgpoZWFkZXIgLmVsLWNvbCB7CiAgbWluLWhlaWdodDogMzZweDsKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <header v-show=\"showheader\">\n      <el-row>\n        <el-col :span=\"16\">\n          <div></div>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-menu background-color=\"#f5f5f5\" class=\"el-menu-demo\" mode=\"horizontal\" :router='true'>\n            <el-menu-item index=\"/\">首页</el-menu-item>\n            <el-menu-item index=\"/login\" v-if=\"!isLogin\">请登录</el-menu-item>\n            <el-menu-item index=\"/register\" v-if=\"!isLogin\">免费注册</el-menu-item>\n            <el-menu-item index=\"/mine\">我的</el-menu-item>\n            <el-menu-item index=\"/cart\">购物车</el-menu-item>\n            <el-menu-item @click=\"doLogout\"  v-if=\"isLogin\">注销</el-menu-item>\n          </el-menu>\n        </el-col>\n      </el-row>\n    </header>\n    <router-view />\n  </div>\n</template>\n\n<style>\n  header {\n    background-color: #f5f5f5;\n  }\n\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #2c3e50;\n  }\n\n  .el-row {\n    width: 100%;\n  }\n\n  header .el-col {\n    min-height: 36px;\n  }\n</style>\n<script>\n  export default {\n    data: function () {\n      return {\n        showheader: true,\n        isLogin:false,\n      }\n    },\n    watch: {\n      $route(to, from) {\n        if (to.path.indexOf('login') > -1) {\n          this.showheader = false;\n        } else {\n          this.showheader = true;\n        }\n        // 判断是否登录，若登录，则不显示登录页面路由了\n        if(sessionStorage.getItem('loginUser') == null){\n          this.isLogin = false;\n        }else{\n          this.isLogin = true;\n        }\n        console.log(to.path);\n      }\n    },\n    methods: {\n      doLogout(){\n       \n        this.$http.post('api/logout',{}).then(response => {\n                            //跳转首页\n                            if (response.data.resultCode == 1) {\n                                this.$message({\n                                    message: '已经注销!',\n                                    type: 'success'\n                                });\n                                sessionStorage.removeItem(\"loginUser\");\n                                this.isLogin = false;\n                                this.$router.push('/');\n                            } else {\n                                console.log('logout failed:' + response.data.msg);\n                                \n                                this.$message.error('注销失败!');\n                            }\n                        })\n      }\n    },\n  }\n</script>"]}]}