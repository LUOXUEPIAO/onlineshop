{"remainingRequest":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\huangyuanyuan-Web2-Web2-master\\front-web\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\src\\App.vue","mtime":1589260594000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93aGVhZGVyOiB0cnVlLAogICAgICBpc0xvZ2luOmZhbHNlLAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZSh0bywgZnJvbSkgewogICAgICBpZiAodG8ucGF0aC5pbmRleE9mKCdsb2dpbicpID4gLTEpIHsKICAgICAgICB0aGlzLnNob3doZWFkZXIgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3doZWFkZXIgPSB0cnVlOwogICAgICB9CiAgICAgIC8vIOWIpOaWreaYr+WQpueZu+W9le+8jOiLpeeZu+W9le+8jOWImeS4jeaYvuekuueZu+W9lemhtemdoui3r+eUseS6hgogICAgICBpZihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdsb2dpblVzZXInKSA9PSBudWxsKXsKICAgICAgICB0aGlzLmlzTG9naW4gPSBmYWxzZTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5pc0xvZ2luID0gdHJ1ZTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyh0by5wYXRoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRvTG9nb3V0KCl7CiAgICAgCiAgICAgIHRoaXMuJGh0dHAucG9zdCgnYXBpL2xvZ291dCcse30pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgIC8v6Lez6L2s6aaW6aG1CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0Q29kZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3sue7j+azqOmUgCEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJsb2dpblVzZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvZ2luID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvZ291dCBmYWlsZWQ6JyArIHJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+azqOmUgOWksei0pSEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9KQogICAgfQogIH0sCn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <header v-show=\"showheader\">\n      <el-row>\n        <el-col :span=\"16\">\n          <div></div>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-menu background-color=\"#f5f5f5\" class=\"el-menu-demo\" mode=\"horizontal\" :router='true'>\n            <el-menu-item index=\"/\">首页</el-menu-item>\n            <el-menu-item index=\"/login\" v-if=\"!isLogin\">请登录</el-menu-item>\n            <el-menu-item index=\"/register\" v-if=\"!isLogin\">免费注册</el-menu-item>\n            <el-menu-item index=\"/mine\">我的</el-menu-item>\n            <el-menu-item index=\"/cart\">购物车</el-menu-item>\n            <el-menu-item @click=\"doLogout\"  v-if=\"isLogin\">注销</el-menu-item>\n          </el-menu>\n        </el-col>\n      </el-row>\n    </header>\n    <router-view />\n  </div>\n</template>\n\n<style>\n  header {\n    background-color: #f5f5f5;\n  }\n\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #2c3e50;\n  }\n\n  .el-row {\n    width: 100%;\n  }\n\n  header .el-col {\n    min-height: 36px;\n  }\n</style>\n<script>\n  export default {\n    data: function () {\n      return {\n        showheader: true,\n        isLogin:false,\n      }\n    },\n    watch: {\n      $route(to, from) {\n        if (to.path.indexOf('login') > -1) {\n          this.showheader = false;\n        } else {\n          this.showheader = true;\n        }\n        // 判断是否登录，若登录，则不显示登录页面路由了\n        if(sessionStorage.getItem('loginUser') == null){\n          this.isLogin = false;\n        }else{\n          this.isLogin = true;\n        }\n        console.log(to.path);\n      }\n    },\n    methods: {\n      doLogout(){\n       \n        this.$http.post('api/logout',{}).then(response => {\n                            //跳转首页\n                            if (response.data.resultCode == 1) {\n                                this.$message({\n                                    message: '已经注销!',\n                                    type: 'success'\n                                });\n                                sessionStorage.removeItem(\"loginUser\");\n                                this.isLogin = false;\n                                this.$router.push('/');\n                            } else {\n                                console.log('logout failed:' + response.data.msg);\n                                \n                                this.$message.error('注销失败!');\n                            }\n                        })\n      }\n    },\n  }\n</script>"]}]}