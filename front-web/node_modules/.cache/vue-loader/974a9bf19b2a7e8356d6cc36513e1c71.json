{"remainingRequest":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\huangyuanyuan-Web2-Web2-master\\front-web\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\src\\views\\Login.vue","mtime":1589260594000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\huangyuanyuan-Web2-Web2-master\\front-web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHZhbGlkYXRlTmFtZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXnlKjmiLflkI0nKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHZhciB2YWxpZGF0ZVBhc3MgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CBJykpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMubG9naW5Gb3JtLmNoZWNrUGFzcyAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZUZpZWxkKCdjaGVja1Bhc3MnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2dpbkZvcm06IHsKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgcGFzczogW3sKICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzcywKICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgICAgICAgIH1dLAoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXNMb2dpbkZhaWw6IGZhbHNlLAogICAgICAgIH07CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRodHRwLnBvc3QoJy9hcGkvbG9naW4nLCB0aGlzLmxvZ2luRm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8v6Lez6L2s6aaW6aG1CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3VsdENvZGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+eZu+W9leaIkOWKnyEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJsb2dpblVzZXIiLHRoaXMubG9naW5Gb3JtLm5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2dpbiBmYWlsZWQ6JyArIHJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+eZu+W9leWksei0pSEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICB9CiAgICB9LAp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"header\">\n            <img src=\"../assets/logo.jpg\" width=\"100px\" height=\"60px\" alt=\"\">\n        </div>\n        <!-- <el-alert title=\"用户名或密码错\" type=\"error\" show-icon v-show=\"isLoginFail\">\n        </el-alert> -->\n        <div class=\"content\">\n            <el-form :model=\"loginForm\" status-icon :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\"\n                class=\"demo-loginForm\">\n                <div class=\"title\"><span>密码登录</span></div>\n                <el-form-item label=\"用户名\" prop=\"name\">\n                    <el-input v-model=\"loginForm.name\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"密码\" prop=\"password\">\n                    <el-input type=\"password\" v-model=\"loginForm.password\" autocomplete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitForm('loginForm')\">登录</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n\n    </div>\n</template>\n<script>\n    \n    export default {\n        data: function () {\n            var validateName = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入用户名'));\n                }\n            };\n            var validatePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入密码'));\n                } else {\n                    if (this.loginForm.checkPass !== '') {\n                        this.$refs.loginForm.validateField('checkPass');\n                    }\n                    callback();\n                }\n            };\n\n            return {\n                loginForm: {\n                    name: '',\n                    password: '',\n                },\n                rules: {\n                    pass: [{\n                        validator: validatePass,\n                        trigger: 'blur'\n                    }],\n\n                },\n                isLoginFail: false,\n            };\n        },\n        methods: {\n            submitForm(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        this.$http.post('/api/login', this.loginForm).then(response => {\n                            //跳转首页\n                            if (response.data.resultCode == 1) {\n                                this.$message({\n                                    message: '登录成功!',\n                                    type: 'success'\n                                });\n                                sessionStorage.setItem(\"loginUser\",this.loginForm.name);\n                                this.$router.push('/');\n                            } else {\n                                console.log('login failed:' + response.data.msg);\n                                this.$message.error('登录失败!');\n                            }\n                        })\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            resetForm(formName) {\n                this.$refs[formName].resetFields();\n            }\n        },\n    }\n</script>\n\n\n<style>\n    .header {\n        width: 100%;\n        height: 60px;\n\n    }\n\n    .content {\n        width: 100%;\n        height: 800px;\n        background-image: url(https://gtms01.alicdn.com/tps/i1/TB1GTCYLXXXXXcHXpXXcoeQ2VXX-2500-600.jpg);\n        background-size: cover;\n        background-position: 50%;\n        background-repeat: no-repeat;\n    }\n\n    .el-form {\n        position: absolute;\n        margin-top: 120px;\n        right: 60px;\n        width: 350px;\n        background: #fff;\n        padding: 24px;\n    }\n\n    .title {\n        font-size: 20px;\n        line-height: 1.7;\n        text-align: center;\n        margin-bottom: 24px;\n\n    }\n</style>"]}]}